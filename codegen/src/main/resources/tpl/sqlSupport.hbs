package {{package}};

{{#imports}}import {{this}};
{{/imports}}
/**
* This class is generated by Jdbc code generator.
*
* Table : {{table.name}}
*
* @author Jdbc Code Generator
*/
public class {{table.upperCamelName}}JdbcSqlSupport implements JdbcSqlSupport<{{table.pkType.name}}, {{table.upperCamelName}}> {

    private static final long serialVersionUID = 1L;
    {{#table.columns}}{{#if ignore}}{{else}}
    public static final String {{upperUnderScoreName}} = {{table.upperCamelName}}Column.{{upperUnderScoreName}}.javaName();
    {{/if}}{{/table.columns}}
    @Override
    public List<String> fields() {
      return Lists.newArrayList({{safestr table.upperUnderscoreFields}});
    }
    {{#if table.containsVirtual}}
    public List<String> virtualFields() {
        return Lists.newArrayList({{safestr table.upperUnderscoreVirtualFields}});
    }
    {{/if}}
    {{#if table.containsVersion}}
    public String versionField() {
        return {{upperUnderscoreToLowCamel table.version}};
    }
    {{/if}}
    @Override
    public String primaryField() {
        return {{upperUnderscoreToLowCamel table.pk}};
    }

    @Override
    public void toMap({{table.upperCamelName}} {{table.lowerCamelName}}, Map<String, Object> map) {
        if (map == null) {
            return;
        }
        {{#table.columns}}{{#if ignore}}{{else}}
        map.put({{upperUnderScoreName}},  {{table.lowerCamelName}}.get{{upperCamelName}}());{{/if}}{{/table.columns}}
    }

    @Override
    public void fromMap(Map<String, Object> map, {{table.upperCamelName}} {{table.lowerCamelName}}) {
        if (map == null) {
            return;
        }
        {{#table.columns}}{{#if ignore}}{{else}}if (map.get({{upperUnderScoreName}}) instanceof {{parameterType lowerCamelName table.columns}}) {
            {{table.lowerCamelName}}.set{{upperCamelName}}(({{parameterType lowerCamelName table.columns}}) map.get({{upperUnderScoreName}}));
        }
        {{/if}}{{/table.columns}}
    }

    @Override
    public void setGeneratedKey(Number key, {{table.upperCamelName}} {{table.lowerCamelName}}) {
    {{#eq table.pkType.name "Integer"}}
        {{table.lowerCamelName}}.set{{toUpperCamelName table.pk}}(key.intValue());
    {{else eq table.pkType.name "Long"}}
        {{table.lowerCamelName}}.set{{toUpperCamelName table.pk}}(key.longValue());
    {{else}}
        throw new UnsupportedOperationException();
    {{/eq}}
    }

    @Override
    public {{table.pkType.name}} id ({{table.upperCamelName}} {{table.lowerCamelName}}) {
        return {{table.lowerCamelName}}.get{{toUpperCamelName table.pk}}();
    }

    public static class {{table.upperCamelName}}Column {
    {{#table.columns}}{{#if ignore}}{{else}}
        public static final SqlColumn {{upperUnderScoreName}} = SqlColumn.create("{{name}}", "{{lowerCamelName}}");
    {{/if}}{{/table.columns}}
    }
   {{safestr userSource}}
}
